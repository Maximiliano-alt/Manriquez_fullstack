<app-navbar [var]="{route:'/ventas/loadVentas',title:'Venta unica'}" ></app-navbar>

<div class="spiner" *ngIf="dataIndicador == 0">
    <div  class="spinner-border" role="status" >
    </div>
    <span>Cargando ...</span>
</div>



<!-- *ngIf="dataIndicador == 1" -->
<div class="container-general" *ngIf="dataIndicador == 1" >
    <div class="data">
        <div class="data-nav">
            <!-- Cliente: Aracelly Balboa -->
            Cliente: {{cliente.nombre}}
        </div>
        <div class="data-contenido">
            <div class="data-linea">
                <!-- <b>Cantidad: </b><p>&nbsp;5 productos(s)</p> -->
                <b>Cantidad: </b><p>&nbsp;{{ventaProductos.productos.length}} productos(s)</p>
            </div>
            <div *ngIf="this.estado == 'pagado'" class="data-linea">
                <!-- <b>Estado: </b><p style="color: #007508;">&nbsp;pagado</p> -->
                <b>Estado: </b><p style="color: #007508;">&nbsp;{{this.estado}}</p>
            </div>
            <div *ngIf="this.estado == 'cotizado'" class="data-linea">
                <!-- <b>Estado: </b><p style="color: #FF0000;">&nbsp;cotizado</p> -->
                <b>Estado: </b><p style="color: #FF0000;">&nbsp;{{this.estado}}</p>
            </div>
            <div *ngIf="this.estado == 'abonado'" class="data-linea">
                <!-- <b>Estado: </b><p style="color: #FF0000;">&nbsp;cotizado</p> -->
                <b>Estado: </b><p style="color: #ffd900;">&nbsp;{{this.estado}}</p>
            </div>
            <div class="data-linea">
                <!-- <b>Envio: </b><p>&nbsp;cotizado</p> -->
                <b>Envio: </b><p>&nbsp;{{ventaProductos.envio}}</p>
            </div>
        </div>
        <div class="data-valor">
            <!-- $12000 -->
            ${{ventaProductos.totalDeVenta}}
        </div>
    </div>

    <!-- botones -->
    <div class="separate-commentary">
      <div class="buttons">

        <button (click)="modificarEstado(this.estado,this.rut,this.id)" class="button">
            Modificar estado
        </button>
        <button  *ngIf="this.estado == 'pagado' || this.estado ==  'abonado'" class="button" (click)="ordenDeCompra()">
            Orden de compra
        </button>
        <button *ngIf="this.estado == 'cotizado'" class="button" (click)="cotizacion()">
            Crear cotizacion
        </button>
        <button *ngIf="this.estado == 'cotizado'"  class="button" (click)="guiaVenta()">
            Crear guia de venta
        </button>
        <button (click)="delete(this.id,this.rut)" class="button">
            Eliminar
        </button>
        <div style="margin: 0;" class="button">
           <!-- <a style="text-decoration: none; color: white;" [routerLink]="['/clientes/product/Venta/'+this.rut+'/'+this.id]" > Ver productos</a> -->
           <a style="text-decoration: none; color: white;" [routerLink]="['/ventas/productos/'+this.id]" > Ver productos</a>
        </div>

    </div>

    <!-- buttons grandes -->
    <div class="buttons-1024">
        <div class="button-pares">
            <button (click)="modificarEstado(this.estado,this.rut,this.id)" style="margin-right: 31px;" class="button-par">
                Modificar estado
            </button>
            <button *ngIf="this.estado == 'cotizado'" class="button-par"(click)="cotizacion()" >
                <!-- falta definicion de requerimiento -->
                Cotizacion
            </button>
            <button  *ngIf="this.estado == 'pagado' || this.estado == 'abonado' " class="button-par"   (click)="ordenDeCompra()">
                Orden de compra
          </button>
        </div>

        <div class="button-pares">
            <button  *ngIf="this.estado == 'pagado'  || this.estado == 'abonado' " style="margin-right: 31px;" class="button-par"  (click)="guiaVenta()">
                <!-- falta definicion del requerimiento -->
                Crear guia de venta
            </button>
            <button *ngIf="this.estado == 'cotizado'"   style="margin-right: 31px;"  class="button-par">
                <a style="text-decoration: none; color: white;" [routerLink]="['/ventas/productos/'+this.id]">
                    Ver productos
                </a>
            </button>
            <button style="margin: 0;" (click)="delete(this.id,this.rut)"   class="button-par">
               Eliminar
            </button>
        </div>

        <div *ngIf="this.estado == 'pagado' || this.estado == 'abonado'" style="margin: 0; width: 100%;"  class="button">
           <!-- <a style="text-decoration: none; color: white;" [routerLink]="['/clientes/product/Venta/'+this.rut+'/'+this.id]" > Ver productos</a> -->
           <a style="text-decoration: none; color: white;" [routerLink]="['/ventas/productos/'+this.id]" > Ver productos</a>
        </div>
    </div>
    </div>


</div>
